<div class="relative w-full min-h-full overflow-hidden bg-[#020617] rounded-3xl border border-white/5 shadow-2xl">
  <!-- Electric/Fintech Background (Login Style) -->
  <div class="absolute inset-0 w-full h-full overflow-hidden pointer-events-none">
      <div class="absolute top-[-50%] left-[-50%] w-[200%] h-[200%] bg-[conic-gradient(from_0deg,transparent_0_340deg,#06b6d4_360deg)] animate-spin-slow mix-blend-color-dodge filter blur-[25px] opacity-60"></div>
      <div class="absolute top-[-50%] left-[-50%] w-[200%] h-[200%] bg-[conic-gradient(from_180deg,transparent_0_340deg,#3b82f6_360deg)] animate-reverse-spin mix-blend-color-dodge filter blur-[25px] opacity-60"></div>
  </div>

  <div class="relative z-10 p-6 lg:p-8">
    <div class="container mx-auto max-w-4xl">
      <h2 class="text-3xl font-bold text-white mb-2 drop-shadow-md">{{ 'tax_tools' | translate }}</h2>

      <!-- Tab Navigation -->
      <div class="border-b border-gray-700/50">
        <nav class="-mb-px flex space-x-8" aria-label="Tabs">
          <button 
            (click)="activeTab.set('simple')"
            class="whitespace-nowrap py-4 px-2 border-b-2 font-medium text-sm transition-all duration-300 ease-in-out focus:outline-none"
            [class]="activeTab() === 'simple' ? 'border-[#1E90FF] text-[#1E90FF] shadow-[0_4px_12px_-4px_rgba(30,144,255,0.5)]' : 'border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-500'">
            {{ 'simple_calculator' | translate }}
          </button>
          <button 
            (click)="!isSmartCalculationLocked() && activeTab.set('smart')"
            class="whitespace-nowrap py-4 px-2 border-b-2 font-medium text-sm flex items-center transition-all duration-300 ease-in-out focus:outline-none"
            [class]="activeTab() === 'smart' ? 'border-[#1E90FF] text-[#1E90FF] shadow-[0_4px_12px_-4px_rgba(30,144,255,0.5)]' : 'border-transparent text-gray-400'"
            [class.hover:text-gray-200]="!isSmartCalculationLocked()"
            [class.hover:border-gray-500]="!isSmartCalculationLocked()"
            [class.cursor-not-allowed]="isSmartCalculationLocked()">
            {{ 'smart_calculator_ai' | translate }}
            @if(isSmartCalculationLocked()) {
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-yellow-400 ml-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
              </svg>
            }
          </button>
        </nav>
      </div>

      <!-- Tab Content -->
      <div class="pt-8 animate-fade-in">
        @if (activeTab() === 'simple') {
          <app-simple-tax-calculator></app-simple-tax-calculator>
        }
        @if (activeTab() === 'smart') {
          @if(isSmartCalculationLocked()) {
            <div class="bg-yellow-500/10 border border-yellow-500/30 text-yellow-300 p-8 text-center glass-content">
                <h3 class="text-2xl font-bold mb-2">{{ 'smart_calculator_locked_title' | translate }}</h3>
                <p class="mb-6">{{ 'smart_calculator_locked_desc' | translate }}</p>
                <a routerLink="/pricing" class="px-6 py-3 bg-yellow-500 text-black font-semibold rounded-md hover:bg-yellow-600 transition shadow-[0_0_15px_rgba(234,179,8,0.4)]">
                    {{ 'view_pricing_plans' | translate }}
                </a>
            </div>
          } @else {
            <app-tax-calculator></app-tax-calculator>
          }
        }
      </div>
    </div>
  </div>
</div>

<style>
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(5px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-fade-in {
    animation: fade-in 0.3s ease-out forwards;
  }
</style>